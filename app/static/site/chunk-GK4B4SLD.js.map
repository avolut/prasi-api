{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js", "../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js", "../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react-jsx-runtime.production.min.js", "../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js", "../../../../node_modules/.pnpm/@noble+hashes@1.3.1/node_modules/@noble/hashes/src/_assert.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.1/node_modules/@noble/hashes/src/_u64.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.1/node_modules/@noble/hashes/src/crypto.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.1/node_modules/@noble/hashes/src/utils.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.1/node_modules/@noble/hashes/src/sha3.ts", "../../../../node_modules/.pnpm/@paralleldrive+cuid2@2.2.0/node_modules/@paralleldrive/cuid2/src/index.js", "../../../../node_modules/.pnpm/@paralleldrive+cuid2@2.2.0/node_modules/@paralleldrive/cuid2/index.js", "../../../../node_modules/.pnpm/hash-sum@2.0.0/node_modules/hash-sum/hash-sum.js", "../../../../node_modules/.pnpm/lodash.trim@4.5.1/node_modules/lodash.trim/index.js", "../../../../pkgs/service/pkgs/service-web/pkgs/web-utils/src/use-global.ts", "../../../../pkgs/service/pkgs/service-web/pkgs/web-utils/src/use-local.ts", "../../../../pkgs/service/pkgs/service-web/pkgs/web-utils/src/wait-until.ts", "../../../../pkgs/service/pkgs/service-web/pkgs/web-utils/src/lazify.ts", "../../../../pkgs/service/pkgs/service-web/pkgs/web-utils/src/export.ts", "../../../../node_modules/.pnpm/goober@2.1.12_csstype@3.1.1/node_modules/goober/dist/goober.modern.js", "../../../../node_modules/.pnpm/radix3@1.0.0/node_modules/radix3/dist/index.mjs", "../../../../pkgs/service/pkgs/service-web/pkgs/web-init/src/web/root.tsx", "../../../../pkgs/service/pkgs/service-web/pkgs/web-init/src/web/error-boundary.tsx", "../../../../pkgs/service/pkgs/service-web/pkgs/web-init/src/web/server-script.tsx", "../../../../pkgs/service/pkgs/service-web/pkgs/web-init/src/web/iframe-cors.ts", "../../../../pkgs/service/pkgs/service-web/pkgs/web-init/src/web/db.ts", "../../../../pkgs/service/pkgs/service-web/pkgs/web-init/src/web/api.ts", "../../../../node_modules/.pnpm/idb-keyval@6.2.1/node_modules/idb-keyval/dist/index.js", "../../../../app/web/src/utils/script/init-api.ts"],
  "sourcesContent": ["/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n", "/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n", "export function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nexport function bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nexport function bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nexport function hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nexport function exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nexport function output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nconst assert = {\n  number,\n  bool,\n  bytes,\n  hash,\n  exists,\n  output,\n};\n\nexport default assert;\n", "const U32_MASK64 = BigInt(2 ** 32 - 1);\nconst _32n = BigInt(32);\n\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nexport function fromBig(n: bigint, le = false) {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nexport function split(lst: bigint[], le = false) {\n  let Ah = new Uint32Array(lst.length);\n  let Al = new Uint32Array(lst.length);\n  for (let i = 0; i < lst.length; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nexport const toBig = (h: number, l: number) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, l: number, s: number) => h >>> s;\nconst shrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (h: number, l: number) => l;\nconst rotr32L = (h: number, l: number) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number) => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\n// Removing \"export\" has 5% perf penalty -_-\nexport function add(Ah: number, Al: number, Bh: number, Bl: number) {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number) =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number) =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nconst u64 = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nconst isPlainObject = (obj: any) =>\n  Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts)))\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "import assert from './_assert.js';\nimport u64 from './_u64.js';\nimport {\n  Hash,\n  u32,\n  Input,\n  toBytes,\n  wrapConstructor,\n  wrapXOFConstructorWithOpts,\n  HashXOF,\n} from './utils.js';\n\n// Various per round constants calculations\nconst [SHA3_PI, SHA3_ROTL, _SHA3_IOTA]: [number[], number[], bigint[]] = [[], [], []];\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n  // Pi\n  [x, y] = [y, (2 * x + 3 * y) % 5];\n  SHA3_PI.push(2 * (5 * y + x));\n  // Rotational\n  SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n  // Iota\n  let t = _0n;\n  for (let j = 0; j < 7; j++) {\n    R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n    if (R & _2n) t ^= _1n << ((_1n << BigInt(j)) - _1n);\n  }\n  _SHA3_IOTA.push(t);\n}\nconst [SHA3_IOTA_H, SHA3_IOTA_L] = u64.split(_SHA3_IOTA, true);\n\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h: number, l: number, s: number) =>\n  s > 32 ? u64.rotlBH(h, l, s) : u64.rotlSH(h, l, s);\nconst rotlL = (h: number, l: number, s: number) =>\n  s > 32 ? u64.rotlBL(h, l, s) : u64.rotlSL(h, l, s);\n\n// Same as keccakf1600, but allows to skip some rounds\nexport function keccakP(s: Uint32Array, rounds: number = 24) {\n  const B = new Uint32Array(5 * 2);\n  // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n  for (let round = 24 - rounds; round < 24; round++) {\n    // Theta \u03B8\n    for (let x = 0; x < 10; x++) B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n    for (let x = 0; x < 10; x += 2) {\n      const idx1 = (x + 8) % 10;\n      const idx0 = (x + 2) % 10;\n      const B0 = B[idx0];\n      const B1 = B[idx0 + 1];\n      const Th = rotlH(B0, B1, 1) ^ B[idx1];\n      const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n      for (let y = 0; y < 50; y += 10) {\n        s[x + y] ^= Th;\n        s[x + y + 1] ^= Tl;\n      }\n    }\n    // Rho (\u03C1) and Pi (\u03C0)\n    let curH = s[2];\n    let curL = s[3];\n    for (let t = 0; t < 24; t++) {\n      const shift = SHA3_ROTL[t];\n      const Th = rotlH(curH, curL, shift);\n      const Tl = rotlL(curH, curL, shift);\n      const PI = SHA3_PI[t];\n      curH = s[PI];\n      curL = s[PI + 1];\n      s[PI] = Th;\n      s[PI + 1] = Tl;\n    }\n    // Chi (\u03C7)\n    for (let y = 0; y < 50; y += 10) {\n      for (let x = 0; x < 10; x++) B[x] = s[y + x];\n      for (let x = 0; x < 10; x++) s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n    }\n    // Iota (\u03B9)\n    s[0] ^= SHA3_IOTA_H[round];\n    s[1] ^= SHA3_IOTA_L[round];\n  }\n  B.fill(0);\n}\n\nexport class Keccak extends Hash<Keccak> implements HashXOF<Keccak> {\n  protected state: Uint8Array;\n  protected pos = 0;\n  protected posOut = 0;\n  protected finished = false;\n  protected state32: Uint32Array;\n  protected destroyed = false;\n  // NOTE: we accept arguments in bytes instead of bits here.\n  constructor(\n    public blockLen: number,\n    public suffix: number,\n    public outputLen: number,\n    protected enableXOF = false,\n    protected rounds: number = 24\n  ) {\n    super();\n    // Can be passed from user as dkLen\n    assert.number(outputLen);\n    // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n    if (0 >= this.blockLen || this.blockLen >= 200)\n      throw new Error('Sha3 supports only keccak-f1600 function');\n    this.state = new Uint8Array(200);\n    this.state32 = u32(this.state);\n  }\n  protected keccak() {\n    keccakP(this.state32, this.rounds);\n    this.posOut = 0;\n    this.pos = 0;\n  }\n  update(data: Input) {\n    assert.exists(this);\n    const { blockLen, state } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      for (let i = 0; i < take; i++) state[this.pos++] ^= data[pos++];\n      if (this.pos === blockLen) this.keccak();\n    }\n    return this;\n  }\n  protected finish() {\n    if (this.finished) return;\n    this.finished = true;\n    const { state, suffix, pos, blockLen } = this;\n    // Do the padding\n    state[pos] ^= suffix;\n    if ((suffix & 0x80) !== 0 && pos === blockLen - 1) this.keccak();\n    state[blockLen - 1] ^= 0x80;\n    this.keccak();\n  }\n  protected writeInto(out: Uint8Array): Uint8Array {\n    assert.exists(this, false);\n    assert.bytes(out);\n    this.finish();\n    const bufferOut = this.state;\n    const { blockLen } = this;\n    for (let pos = 0, len = out.length; pos < len; ) {\n      if (this.posOut >= blockLen) this.keccak();\n      const take = Math.min(blockLen - this.posOut, len - pos);\n      out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n      this.posOut += take;\n      pos += take;\n    }\n    return out;\n  }\n  xofInto(out: Uint8Array): Uint8Array {\n    // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n    if (!this.enableXOF) throw new Error('XOF is not possible for this instance');\n    return this.writeInto(out);\n  }\n  xof(bytes: number): Uint8Array {\n    assert.number(bytes);\n    return this.xofInto(new Uint8Array(bytes));\n  }\n  digestInto(out: Uint8Array) {\n    assert.output(out, this);\n    if (this.finished) throw new Error('digest() was already called');\n    this.writeInto(out);\n    this.destroy();\n    return out;\n  }\n  digest() {\n    return this.digestInto(new Uint8Array(this.outputLen));\n  }\n  destroy() {\n    this.destroyed = true;\n    this.state.fill(0);\n  }\n  _cloneInto(to?: Keccak): Keccak {\n    const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n    to ||= new Keccak(blockLen, suffix, outputLen, enableXOF, rounds);\n    to.state32.set(this.state32);\n    to.pos = this.pos;\n    to.posOut = this.posOut;\n    to.finished = this.finished;\n    to.rounds = rounds;\n    // Suffix can change in cSHAKE\n    to.suffix = suffix;\n    to.outputLen = outputLen;\n    to.enableXOF = enableXOF;\n    to.destroyed = this.destroyed;\n    return to;\n  }\n}\n\nconst gen = (suffix: number, blockLen: number, outputLen: number) =>\n  wrapConstructor(() => new Keccak(blockLen, suffix, outputLen));\n\nexport const sha3_224 = gen(0x06, 144, 224 / 8);\n/**\n * SHA3-256 hash function\n * @param message - that would be hashed\n */\nexport const sha3_256 = gen(0x06, 136, 256 / 8);\nexport const sha3_384 = gen(0x06, 104, 384 / 8);\nexport const sha3_512 = gen(0x06, 72, 512 / 8);\nexport const keccak_224 = gen(0x01, 144, 224 / 8);\n/**\n * keccak-256 hash function. Different from SHA3-256.\n * @param message - that would be hashed\n */\nexport const keccak_256 = gen(0x01, 136, 256 / 8);\nexport const keccak_384 = gen(0x01, 104, 384 / 8);\nexport const keccak_512 = gen(0x01, 72, 512 / 8);\n\nexport type ShakeOpts = { dkLen?: number };\n\nconst genShake = (suffix: number, blockLen: number, outputLen: number) =>\n  wrapXOFConstructorWithOpts<HashXOF<Keccak>, ShakeOpts>(\n    (opts: ShakeOpts = {}) =>\n      new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true)\n  );\n\nexport const shake128 = genShake(0x1f, 168, 128 / 8);\nexport const shake256 = genShake(0x1f, 136, 256 / 8);\n", "/* global global, window, module */\nconst { sha3_512: sha3 } = require(\"@noble/hashes/sha3\");\n\nconst defaultLength = 24;\nconst bigLength = 32;\n\nconst createEntropy = (length = 4, random = Math.random) => {\n  let entropy = \"\";\n\n  while (entropy.length < length) {\n    entropy = entropy + Math.floor(random() * 36).toString(36);\n  }\n  return entropy;\n};\n\n/*\n * Adapted from https://github.com/juanelas/bigint-conversion\n * MIT License Copyright (c) 2018 Juan Hern\u00E1ndez Serrano\n */\nfunction bufToBigInt(buf) {\n  let bits = 8n;\n\n  let value = 0n;\n  for (const i of buf.values()) {\n    const bi = BigInt(i);\n    value = (value << bits) + bi;\n  }\n  return value;\n}\n\nconst hash = (input = \"\") => {\n  // Drop the first character because it will bias the histogram\n  // to the left.\n  return bufToBigInt(sha3(input)).toString(36).slice(1);\n};\n\nconst alphabet = Array.from({ length: 26 }, (x, i) =>\n  String.fromCharCode(i + 97)\n);\n\nconst randomLetter = (random) =>\n  alphabet[Math.floor(random() * alphabet.length)];\n\n/*\nThis is a fingerprint of the host environment. It is used to help\nprevent collisions when generating ids in a distributed system.\nIf no global object is available, you can pass in your own, or fall back\non a random string.\n*/\nconst createFingerprint = ({\n  globalObj = typeof global !== \"undefined\"\n    ? global\n    : typeof window !== \"undefined\"\n    ? window\n    : {},\n} = {}) => {\n  const globals = Object.keys(globalObj).toString();\n  const sourceString = globals.length\n    ? globals + createEntropy(bigLength)\n    : createEntropy(bigLength);\n\n  return hash(sourceString).substring(0, bigLength);\n};\n\nconst createCounter = (count) => () => {\n  return count++;\n};\n\n// ~22k hosts before 50% chance of initial counter collision\n// with a remaining counter range of 9.0e+15 in JavaScript.\nconst initialCountMax = 476782367;\n\nconst init = ({\n  // Fallback if the user does not pass in a CSPRNG. This should be OK\n  // because we don't rely solely on the random number generator for entropy.\n  // We also use the host fingerprint, current time, and a session counter.\n  random = Math.random,\n  counter = createCounter(Math.floor(random() * initialCountMax)),\n  length = defaultLength,\n  fingerprint = createFingerprint(),\n} = {}) => {\n  return function cuid2() {\n    const firstLetter = randomLetter(random);\n\n    // If we're lucky, the `.toString(36)` calls may reduce hashing rounds\n    // by shortening the input to the hash function a little.\n    const time = Date.now().toString(36);\n    const count = counter().toString(36);\n\n    // The salt should be long enough to be globally unique across the full\n    // length of the hash. For simplicity, we use the same length as the\n    // intended id output.\n    const salt = createEntropy(length, random);\n    const hashInput = `${time + salt + count + fingerprint}`;\n\n    return `${firstLetter + hash(hashInput).substring(1, length)}`;\n  };\n};\n\nconst createId = init();\n\nconst isCuid = (id, { minLength = 2, maxLength = bigLength } = {}) => {\n  const length = id.length;\n  const regex = /^[0-9a-z]+$/;\n\n  try {\n    if (\n      typeof id === \"string\" &&\n      length >= minLength &&\n      length <= maxLength &&\n      regex.test(id)\n    )\n      return true;\n  } finally {\n  }\n\n  return false;\n};\n\nmodule.exports.getConstants = () => ({ defaultLength, bigLength });\nmodule.exports.init = init;\nmodule.exports.createId = createId;\nmodule.exports.bufToBigInt = bufToBigInt;\nmodule.exports.createCounter = createCounter;\nmodule.exports.createFingerprint = createFingerprint;\nmodule.exports.isCuid = isCuid;\n", "const { createId, init, getConstants, isCuid } = require(\"./src/index\");\n\nmodule.exports.createId = createId;\nmodule.exports.init = init;\nmodule.exports.getConstants = getConstants;\nmodule.exports.isCuid = isCuid;\n", "'use strict';\n\nfunction pad (hash, len) {\n  while (hash.length < len) {\n    hash = '0' + hash;\n  }\n  return hash;\n}\n\nfunction fold (hash, text) {\n  var i;\n  var chr;\n  var len;\n  if (text.length === 0) {\n    return hash;\n  }\n  for (i = 0, len = text.length; i < len; i++) {\n    chr = text.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash |= 0;\n  }\n  return hash < 0 ? hash * -2 : hash;\n}\n\nfunction foldObject (hash, o, seen) {\n  return Object.keys(o).sort().reduce(foldKey, hash);\n  function foldKey (hash, key) {\n    return foldValue(hash, o[key], key, seen);\n  }\n}\n\nfunction foldValue (input, value, key, seen) {\n  var hash = fold(fold(fold(input, key), toString(value)), typeof value);\n  if (value === null) {\n    return fold(hash, 'null');\n  }\n  if (value === undefined) {\n    return fold(hash, 'undefined');\n  }\n  if (typeof value === 'object' || typeof value === 'function') {\n    if (seen.indexOf(value) !== -1) {\n      return fold(hash, '[Circular]' + key);\n    }\n    seen.push(value);\n\n    var objHash = foldObject(hash, value, seen)\n\n    if (!('valueOf' in value) || typeof value.valueOf !== 'function') {\n      return objHash;\n    }\n\n    try {\n      return fold(objHash, String(value.valueOf()))\n    } catch (err) {\n      return fold(objHash, '[valueOf exception]' + (err.stack || err.message))\n    }\n  }\n  return fold(hash, value.toString());\n}\n\nfunction toString (o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction sum (o) {\n  return pad(foldValue(0, o, '', []).toString(16), 8);\n}\n\nmodule.exports = sum;\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nmodule.exports = trim;\n", "import { createId } from \"@paralleldrive/cuid2\";\nimport {\n  createContext,\n  startTransition,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\n\nconst w = window as unknown as {\n  globalValueID: WeakMap<any, string>;\n};\n\nexport const GlobalContext = createContext({\n  global: {},\n  render: () => {},\n} as {\n  global: Record<string, any>;\n  render: (reset?: boolean) => void;\n});\n\nexport const uState = useState;\nexport const useGlobal = <T extends object>(\n  defaultValue: T,\n  effectOrID?:\n    | (() => Promise<void | (() => void)> | void | (() => void))\n    | string,\n  id?: string\n): T & { render: (reset?: boolean) => void } => {\n  if (!w.globalValueID) w.globalValueID = new WeakMap();\n\n  let _id = (typeof effectOrID === \"string\" ? effectOrID : id) as string;\n  if (!_id) {\n    if (!w.globalValueID.has(defaultValue)) {\n      w.globalValueID.set(defaultValue, createId());\n    }\n    _id = w.globalValueID.get(defaultValue) || \"\";\n  }\n  if (!_id) {\n    _id = \"GLOBAL_DEFAULT\";\n  }\n\n  const ctx = useContext(GlobalContext);\n  const { global, render } = ctx;\n\n  if (!global[_id]) {\n    global[_id] = deepClone(defaultValue);\n  }\n\n  useEffect(() => {\n    let res: any = null;\n    if (typeof effectOrID === \"function\") {\n      try {\n        res = effectOrID();\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    return () => {\n      if (typeof res === \"function\") res();\n      else if (res instanceof Promise) {\n        res.then((e) => {\n          if (typeof e === \"function\") e();\n        });\n      }\n    };\n  }, []);\n\n  const res = global[_id];\n\n  if (res) {\n    res.render = (reset?: boolean) => {\n      if (reset) {\n        global[_id] = undefined;\n      }\n      startTransition(render);\n    };\n  } else {\n    console.log(defaultValue, _id);\n  }\n\n  return res as any;\n};\nexport const deepClone = (object: any): any => {\n  if (null == object || typeof object != \"object\") return object;\n  // Handle Date\n  if (object instanceof Date) {\n    var copy = new Date();\n    copy.setTime(object.getTime());\n    return copy;\n  }\n  if (object instanceof Array) {\n    return object.map((item) => deepClone(item));\n  }\n\n  var newObject: any = {};\n  for (var key in object) {\n    if (typeof object[key] === \"object\") {\n      newObject[key] = deepClone(object[key]);\n    } else {\n      newObject[key] = object[key];\n    }\n  }\n  return newObject as any;\n};\n", "import { useEffect, useRef, useState } from \"react\";\n\nimport \"../../web-init/src/types\";\n\nexport const useLocal = <T extends object>(\n  data: T,\n  effect?: (arg: {\n    init: boolean;\n  }) => Promise<void | (() => void)> | void | (() => void),\n  deps?: any[]\n): {\n  [K in keyof T]: T[K] extends Promise<any> ? null | Awaited<T[K]> : T[K];\n} & { render: () => void } => {\n  const [, _render] = useState({});\n  const _ = useRef({\n    data: data as unknown as T & {\n      render: () => void;\n    },\n    deps: (deps || []) as any[],\n    promisedKeys: new Set<string>(),\n    ready: false,\n    _loading: {} as any,\n  });\n  const local = _.current;\n\n  useEffect(() => {\n    local.ready = true;\n    if (effect) effect({ init: true });\n  }, []);\n\n  if (local.ready === false) {\n    local._loading = {};\n\n    for (const [k, v] of Object.entries(data)) {\n      if (!local.promisedKeys.has(k)) {\n        let val = v;\n        if (typeof val === \"object\" && val instanceof Promise) {\n          local._loading[k] = true;\n          local.promisedKeys.add(k);\n          (local.data as any)[k] = null;\n          val.then((resolved) => {\n            (local.data as any)[k] = resolved;\n            local._loading[k] = false;\n            local.data.render();\n          });\n        }\n      }\n    }\n\n    local.data.render = () => {\n      if (local.ready) _render({});\n    };\n  } else {\n    if (local.deps.length > 0 && deps) {\n      for (const [k, dep] of Object.entries(deps) as any) {\n        if (local.deps[k] !== dep) {\n          local.deps[k] = dep;\n\n          if (effect) {\n            setTimeout(() => {\n              effect({ init: false });\n            });\n          }\n          break;\n        }\n      }\n    }\n  }\n\n  return local.data as any;\n};\n", "export const waitUntil = (\n  condition: number | (() => any),\n  timeout?: number\n) => {\n  return new Promise<void>(async (resolve) => {\n    if (typeof condition === \"function\") {\n      let tout = null as any;\n      if (timeout) {\n        tout = setTimeout(resolve, timeout);\n      }\n      if (await condition()) {\n        clearTimeout(tout);\n        resolve();\n        return;\n      }\n      let count = 0;\n      const c = setInterval(async () => {\n        if (await condition()) {\n          if (tout) clearTimeout(tout);\n          clearInterval(c);\n          resolve();\n        }\n        if (count > 100) {\n          clearInterval(c);\n        }\n      }, 10);\n    } else if (typeof condition === \"number\") {\n      setTimeout(() => {\n        resolve();\n      }, condition);\n    }\n  });\n};\n", "import { FC, lazy } from \"react\";\n\nexport const lazify = <T extends Promise<Record<string, any>>>(\n  im: T,\n  name: keyof Awaited<T>\n) => {\n  return lazy(async () => {\n    return {\n      default: (await im)[name],\n    };\n  });\n};\n", "export * from \"./use-local\";\nexport * from \"./wait-until\";\nexport * from \"./lazify\";\nexport * from \"./use-global\";\nimport * as _React from \"react\";\nexport const React = _React;\n", "let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n", "const NODE_TYPES = {\n  NORMAL: 0,\n  WILDCARD: 1,\n  PLACEHOLDER: 2\n};\n\nfunction createRouter(options = {}) {\n  const ctx = {\n    options,\n    rootNode: createRadixNode(),\n    staticRoutesMap: {}\n  };\n  const normalizeTrailingSlash = (p) => options.strictTrailingSlash ? p : p.replace(/\\/$/, \"\") || \"/\";\n  if (options.routes) {\n    for (const path in options.routes) {\n      insert(ctx, normalizeTrailingSlash(path), options.routes[path]);\n    }\n  }\n  return {\n    ctx,\n    lookup: (path) => lookup(ctx, normalizeTrailingSlash(path)),\n    insert: (path, data) => insert(ctx, normalizeTrailingSlash(path), data),\n    remove: (path) => remove(ctx, normalizeTrailingSlash(path))\n  };\n}\nfunction lookup(ctx, path) {\n  const staticPathNode = ctx.staticRoutesMap[path];\n  if (staticPathNode) {\n    return staticPathNode.data;\n  }\n  const sections = path.split(\"/\");\n  const params = {};\n  let paramsFound = false;\n  let wildcardNode = null;\n  let node = ctx.rootNode;\n  let wildCardParam = null;\n  for (let i = 0; i < sections.length; i++) {\n    const section = sections[i];\n    if (node.wildcardChildNode !== null) {\n      wildcardNode = node.wildcardChildNode;\n      wildCardParam = sections.slice(i).join(\"/\");\n    }\n    const nextNode = node.children.get(section);\n    if (nextNode !== void 0) {\n      node = nextNode;\n    } else {\n      node = node.placeholderChildNode;\n      if (node !== null) {\n        params[node.paramName] = section;\n        paramsFound = true;\n      } else {\n        break;\n      }\n    }\n  }\n  if ((node === null || node.data === null) && wildcardNode !== null) {\n    node = wildcardNode;\n    params[node.paramName || \"_\"] = wildCardParam;\n    paramsFound = true;\n  }\n  if (!node) {\n    return null;\n  }\n  if (paramsFound) {\n    return {\n      ...node.data,\n      params: paramsFound ? params : void 0\n    };\n  }\n  return node.data;\n}\nfunction insert(ctx, path, data) {\n  let isStaticRoute = true;\n  const sections = path.split(\"/\");\n  let node = ctx.rootNode;\n  let _unnamedPlaceholderCtr = 0;\n  for (let i = 0; i < sections.length; i++) {\n    const section = sections[i];\n    let childNode;\n    if (childNode = node.children.get(section)) {\n      node = childNode;\n    } else {\n      const type = getNodeType(section);\n      childNode = createRadixNode({ type, parent: node });\n      node.children.set(section, childNode);\n      if (type === NODE_TYPES.PLACEHOLDER) {\n        childNode.paramName = section === \"*\" ? `_${_unnamedPlaceholderCtr++}` : section.slice(1);\n        node.placeholderChildNode = childNode;\n        isStaticRoute = false;\n      } else if (type === NODE_TYPES.WILDCARD) {\n        node.wildcardChildNode = childNode;\n        childNode.paramName = section.substring(3) || \"_\";\n        isStaticRoute = false;\n      }\n      node = childNode;\n    }\n  }\n  node.data = data;\n  if (isStaticRoute === true) {\n    ctx.staticRoutesMap[path] = node;\n  }\n  return node;\n}\nfunction remove(ctx, path) {\n  let success = false;\n  const sections = path.split(\"/\");\n  let node = ctx.rootNode;\n  for (let i = 0; i < sections.length; i++) {\n    const section = sections[i];\n    node = node.children.get(section);\n    if (!node) {\n      return success;\n    }\n  }\n  if (node.data) {\n    const lastSection = sections[sections.length - 1];\n    node.data = null;\n    if (Object.keys(node.children).length === 0) {\n      const parentNode = node.parent;\n      delete parentNode[lastSection];\n      parentNode.wildcardChildNode = null;\n      parentNode.placeholderChildNode = null;\n    }\n    success = true;\n  }\n  return success;\n}\nfunction createRadixNode(options = {}) {\n  return {\n    type: options.type || NODE_TYPES.NORMAL,\n    parent: options.parent || null,\n    children: /* @__PURE__ */ new Map(),\n    data: options.data || null,\n    paramName: options.paramName || null,\n    wildcardChildNode: null,\n    placeholderChildNode: null\n  };\n}\nfunction getNodeType(str) {\n  if (str.startsWith(\"**\")) {\n    return NODE_TYPES.WILDCARD;\n  }\n  if (str[0] === \":\" || str === \"*\") {\n    return NODE_TYPES.PLACEHOLDER;\n  }\n  return NODE_TYPES.NORMAL;\n}\n\nfunction toRouteMatcher(router) {\n  const table = _routerNodeToTable(\"\", router.ctx.rootNode);\n  return _createMatcher(table);\n}\nfunction _createMatcher(table) {\n  return {\n    ctx: { table },\n    matchAll: (path) => _matchRoutes(path, table)\n  };\n}\nfunction _createRouteTable() {\n  return {\n    static: /* @__PURE__ */ new Map(),\n    wildcard: /* @__PURE__ */ new Map(),\n    dynamic: /* @__PURE__ */ new Map()\n  };\n}\nfunction _matchRoutes(path, table) {\n  const matches = [];\n  for (const [key, value] of table.wildcard) {\n    if (path.startsWith(key)) {\n      matches.push(value);\n    }\n  }\n  for (const [key, value] of table.dynamic) {\n    if (path.startsWith(key + \"/\")) {\n      const subPath = \"/\" + path.substring(key.length).split(\"/\").splice(2).join(\"/\");\n      matches.push(..._matchRoutes(subPath, value));\n    }\n  }\n  const staticMatch = table.static.get(path);\n  if (staticMatch) {\n    matches.push(staticMatch);\n  }\n  return matches.filter(Boolean);\n}\nfunction _routerNodeToTable(initialPath, initialNode) {\n  const table = _createRouteTable();\n  function _addNode(path, node) {\n    if (path) {\n      if (node.type === NODE_TYPES.NORMAL && !(path.includes(\"*\") || path.includes(\":\"))) {\n        table.static.set(path, node.data);\n      } else if (node.type === NODE_TYPES.WILDCARD) {\n        table.wildcard.set(path.replace(\"/**\", \"\"), node.data);\n      } else if (node.type === NODE_TYPES.PLACEHOLDER) {\n        const subTable = _routerNodeToTable(\"\", node);\n        if (node.data) {\n          subTable.static.set(\"/\", node.data);\n        }\n        table.dynamic.set(path.replace(/\\/\\*|\\/:\\w+/, \"\"), subTable);\n        return;\n      }\n    }\n    for (const [childPath, child] of node.children.entries()) {\n      _addNode(`${path}/${childPath}`.replace(\"//\", \"/\"), child);\n    }\n  }\n  _addNode(initialPath, initialNode);\n  return table;\n}\n\nexport { NODE_TYPES, createRouter, toRouteMatcher };\n", "import { FC, ReactNode, Suspense } from \"react\";\nimport { GlobalContext, useLocal, waitUntil } from \"web-utils\";\nimport { g, PageResponse } from \"../types\";\nimport { ErrorBoundary } from \"./error-boundary\";\nimport { PromisedComponent } from \"./page\";\n\nexport const Root: FC<{\n  name: string;\n  loading?: ReactNode;\n  props: Record<string, any>;\n}> = ({ loading, props }) => {\n  const local = useLocal({\n    Layout: undefined as\n      | undefined\n      | React.LazyExoticComponent<FC<any>>\n      | FC<any>,\n    global: {},\n    pathname: \"\",\n    pathLoaded: false,\n    pageLoaded: false,\n    pageUrl: \"\",\n    Page: (() => <>{loading}</>) as\n      | React.LazyExoticComponent<FC<any>>\n      | FC<any>,\n    timeout: null as any,\n  });\n\n  const w = window as any;\n  w.rootRender = local.render;\n\n  const res = { pathname: location.pathname, params: {} as any };\n\n  w.rootRes = res;\n  w.pathname = res.pathname;\n\n  let page = g.__PAGES__[\"index\"];\n\n  let found = g.router.lookup(res.pathname);\n  if (!found || (found && !found.name)) {\n    found = g.router.lookup(res.pathname + \"/\");\n  }\n  if (!found || (found && !found.name)) {\n    found = g.router.lookup(res.pathname + \"/_\");\n  }\n  if (!found || (found && !found.name)) {\n    found = g.router.lookup(res.pathname + \"/_/\");\n  }\n  if (!found || (found && !found.name)) {\n    found = g.router.lookup(res.pathname + \"/_/_\");\n  }\n\n  if (!found) {\n    if (!g.notFoundPage) {\n      const ffPage = Object.values(g.__PAGES__).find((e) => e.url === \"*\");\n      if (ffPage) {\n        g.notFoundPage = ffPage;\n      }\n    }\n\n    if (g.notFoundPage) {\n      found = g.notFoundPage;\n    }\n  }\n\n  if (found && found.name) {\n    page = g.__PAGES__[found.name];\n    res.params = found.params || {};\n    if (typeof window === \"object\") {\n      (window as any).params = res.params;\n    }\n  }\n\n  g.__CURPAGE__ = page;\n\n  if (page) {\n    if (local.pathname !== res.pathname) {\n      if (local.pageUrl !== page.url) {\n        local.pageUrl = page.url;\n        local.pathLoaded = false;\n        local.Layout = undefined;\n        local.pathname = res.pathname;\n      }\n    }\n\n    if (!local.Layout && page.layout) {\n      if (g.__LAYOUTS__ && g.__LAYOUTS__[page.layout]) {\n        local.Layout = g.__LAYOUTS__[page.layout] as any;\n      }\n    }\n\n    if (\n      (!local.pathLoaded || !local.pageLoaded) &&\n      typeof page.component !== \"undefined\"\n    ) {\n      setTimeout(() => {\n        if (!local.pageLoaded) {\n          local.render();\n        }\n      }, 2000);\n\n      const component = (page.component as PromisedComponent)();\n\n      if (typeof component === \"object\" && component instanceof Promise) {\n        local.pathLoaded = true;\n        local.Page = () => <>{loading}</>;\n\n        component\n          .then((e) => {\n            clearTimeout(local.timeout);\n            local.Page = e.default.component;\n            local.pageLoaded = true;\n            local.render();\n          })\n          .catch((e) => {\n            console.warn(\n              `Page [${found?.name || \"-not-found-\"}] failed to load`,\n              e\n            );\n            local.render();\n          });\n      } else {\n        local.Page = component;\n        local.pathLoaded = true;\n      }\n    }\n  }\n\n  if (!g.api) {\n    waitUntil(() => typeof g.api !== \"undefined\").then(() => {\n      local.render();\n    });\n    return null;\n  }\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        global: local.global,\n        render: () => {\n          local.render();\n        },\n      }}\n    >\n      {local.Layout ? (\n        <Suspense fallback={loading}>\n          <ErrorBoundary>\n            <local.Layout {...props} res={res}>\n              <local.Page {...props} res={res} />\n            </local.Layout>\n          </ErrorBoundary>\n        </Suspense>\n      ) : (\n        <>\n          <Suspense\n            fallback={\n              <>\n                {() => {\n                  local.timeout = setTimeout(() => {\n                    console.warn(\"Page timed out:\");\n                    console.warn(local, page);\n                    local.render();\n                  }, 2000);\n                }}\n                loading\n              </>\n            }\n          >\n            <ErrorBoundary>\n              <local.Page {...props} res={res} />\n            </ErrorBoundary>\n          </Suspense>\n        </>\n      )}\n    </GlobalContext.Provider>\n  );\n};\n", "import { Component, ReactNode } from \"react\";\n\ntype ErrorBoundaryState = {\n  error: Error | null;\n  errorInfo: any;\n};\nexport class ErrorBoundary extends Component<\n  {\n    children: ReactNode;\n    onError?: (error: any) => void;\n    onSuccess?: () => void;\n    showError?: boolean;\n  },\n  ErrorBoundaryState\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n\n  componentDidCatch = (error: any, errorInfo: any) => {\n    catchFunc(error, errorInfo, this);\n  };\n\n  render() {\n    if (this.state.errorInfo) {\n      if (this.props.onError) {\n        this.props.onError(this.state.errorInfo);\n      }\n      if (this.props.showError !== false) {\n        return handleError(this);\n      }\n      return null;\n    }\n    if (this.props.onSuccess) {\n      this.props.onSuccess();\n    }\n\n    return this.props.children || <div></div>;\n  }\n}\n\nconst handleError = (ctx: any) => {\n  const err = (ctx.state.error && ctx.state.error.toString()) || \"\";\n  if (err.includes(\"Failed to fetch dynamically imported module\")) {\n    return (\n      <>\n        <div className=\"absolute flex max-w-md m-5 bg-white rounded-lg shadow-lg pointer-events-auto inset-5 ring-1 ring-black ring-opacity-5\">\n          <div className=\"flex-1 w-0 p-4\">\n            <div className=\"flex items-start\">\n              <div className=\"flex-shrink-0 pt-0.5\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"2\"\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                  ></path>\n                </svg>\n              </div>\n              <div className=\"flex-1 w-0 ml-3\">\n                <p className=\"text-sm font-medium text-gray-900\">\n                  Page need to be reloaded.\n                </p>\n                <p className=\"mt-1 text-sm text-gray-500\">\n                  Some module unable to load, you have to reload this page.\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex border-l border-gray-200\">\n            <button\n              className=\"flex items-center justify-center w-full p-4 text-sm font-medium text-blue-600 border border-transparent rounded-none rounded-r-lg hover:text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              onClick={() => {\n                if (typeof location === \"object\") location.reload();\n              }}\n            >\n              Reload\n            </button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    // Error path\n    <div style={ctx.props.style || styles.error}>\n      <h2>Something went wrong.</h2>\n      <details\n        className={cx(\n          \"p-2 overflow-auto text-sm whitespace-pre-wrap\",\n          css`\n            font-family: monospace, monospace;\n            font-size: 11px;\n            background-color: #ececeb58;\n          `\n        )}\n      >\n        {ctx.state.error && ctx.state.error.toString()}\n        <br />\n        <br />\n        <div>{ctx.state.errorInfo.componentStack}</div>\n      </details>\n    </div>\n  );\n};\n\nconst catchFunc = (error: Error, errorInfo: any, ctx: any) => {\n  // catch errors in any components below and re-render with error message\n  ctx.setState({\n    error: error,\n    errorInfo: errorInfo,\n  });\n  // log error messages, etc.\n};\n\nconst styles = {\n  error: {\n    backgroundColor: \"#f98e7e\",\n    borderTop: \"1px solid #777\",\n    borderBottom: \"1px solid #777\",\n    padding: \"15px\",\n  },\n};\n", "import { css, CSSAttribute, extractCss } from \"goober\";\nimport { FC, lazy } from \"react\";\n\nexport const ServerScript: FC<{ source: string }> = ({ source }) => {\n  return (\n    <script id=\"_royal_\" dangerouslySetInnerHTML={{ __html: source }}></script>\n  );\n};\n\nexport const setupEnv = () => {\n  const g = window as any;\n  g.css = (\n    tag: CSSAttribute | TemplateStringsArray | string,\n    ...props: Array<string | number | boolean | undefined | null>\n  ) => {\n    const classes: (string | number)[] = [];\n    const go: string[] = [];\n\n    for (const e of props) {\n      if (typeof e === \"string\") {\n        if (e.startsWith(\"go\")) {\n          go.push(e);\n        } else {\n          classes.push(e);\n        }\n      }\n      if (typeof e === \"number\") classes.push(e);\n    }\n\n    return [css(tag, ...classes), ...go].join(\" \");\n  };\n  g.extractCss = extractCss;\n};\n\nexport const ServerStyle = lazy(() => {\n  return new Promise<{\n    default: React.ComponentType<any>;\n  }>((resolve) => {\n    let retry = 0;\n    let lastExtract = \"\";\n    const tryExtract = () => {\n      try {\n        const cssSource = extractCss();\n\n        if (!lastExtract && lastExtract !== cssSource) {\n          lastExtract = cssSource;\n\n          setTimeout(() => {\n            tryExtract();\n          }, 20);\n          return;\n        } else {\n          if (cssSource || retry >= 4) {\n            resolve({\n              default: () => {\n                if (!cssSource) return null;\n                return (\n                  <style\n                    id=\"_goober\"\n                    dangerouslySetInnerHTML={{ __html: cssSource }}\n                  />\n                );\n              },\n            });\n            return;\n          }\n        }\n      } catch (e) {}\n\n      setTimeout(() => {\n        retry = retry + 1;\n        tryExtract();\n      }, 50);\n    };\n    tryExtract();\n  });\n});\n", "import { waitUntil } from \"web-utils\";\nimport { createId } from \"@paralleldrive/cuid2\";\nconst cuid = createId;\n\n(BigInt.prototype as any).toJSON = function (): string {\n  return `BigInt::` + this.toString();\n};\n\nexport const createFrameCors = async (url: string, win?: any) => {\n  let w = window;\n  if (!!win) {\n    w = win;\n  }\n  const document = w.document;\n\n  const id = `__` + url.replace(/\\W/g, \"\");\n\n  if (typeof document !== \"undefined\" && !document.querySelector(`#${id}`)) {\n    const iframe = document.createElement(\"iframe\");\n    iframe.style.display = \"none\";\n    iframe.id = id;\n\n    const _url = new URL(url);\n    _url.pathname = \"/_api_frm\";\n    iframe.src = _url.toString();\n\n    await new Promise<void>((resolve, reject) => {\n      iframe.onload = () => {\n        if (!iframe.contentDocument) {\n          setTimeout(() => {\n            if (!iframe.contentDocument) {\n              reject(\n                `Cannot load iframe ${_url.toString()}. content document not found.`\n              );\n            }\n          }, 100);\n        }\n      };\n\n      const onInit = (e: any) => {\n        if (e.data === \"initialized\") {\n          iframe.setAttribute(\"loaded\", \"y\");\n          w.removeEventListener(\"message\", onInit);\n          resolve();\n        }\n      };\n      w.addEventListener(\"message\", onInit);\n\n      document.body.appendChild(iframe);\n    });\n  }\n\n  const wm = {} as Record<string, any>;\n\n  const sendRaw = async (\n    input: RequestInfo | URL,\n    init?: RequestInit | undefined\n  ) => {\n    if (w.document && w.document.querySelector) {\n      const iframe = w.document.querySelector(`#${id}`) as HTMLIFrameElement;\n\n      if (\n        !iframe ||\n        !iframe.contentWindow ||\n        (iframe && iframe.getAttribute(\"loaded\") !== \"y\")\n      ) {\n        await waitUntil(\n          () =>\n            iframe &&\n            iframe.contentWindow &&\n            iframe.getAttribute(\"loaded\") === \"y\"\n        );\n      }\n\n      return await new Promise((resolve, reject) => {\n        if (iframe && iframe.contentWindow) {\n          const id = cuid();\n          wm[id] = (e: any) => {\n            if (id === e.data.id) {\n              w.removeEventListener(\"message\", wm[id]);\n              delete wm[id];\n              if (e.data.error) {\n                let err = e.data.error;\n                reject(\n                  err.replace(\n                    /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\n                    \"\"\n                  )\n                );\n              } else {\n                resolve(e.data.result);\n              }\n            }\n          };\n          w.addEventListener(\"message\", wm[id]);\n          iframe.contentWindow.postMessage({ input, init, id }, \"*\");\n        }\n      });\n    }\n  };\n\n  return {\n    sendRaw,\n    async send(input: string | RequestInfo | URL, data?: any, _headers?: any) {\n      const uri = input.toString();\n      const headers = { ..._headers };\n\n      let body = data;\n      let isFile = false;\n\n      const formatSingle = async (data: any) => {\n        if (!(data instanceof w.FormData || data instanceof w.File)) {\n          headers[\"content-type\"] = \"application/json\";\n        } else {\n          if (data instanceof w.File) {\n            isFile = true;\n            let ab = await new Promise<ArrayBuffer | undefined>((resolve) => {\n              const reader = new FileReader();\n              reader.addEventListener(\"load\", (e) => {\n                resolve(e.target?.result as ArrayBuffer);\n              });\n              reader.readAsArrayBuffer(data);\n            });\n            if (ab) {\n              data = new File([ab], data.name);\n            }\n          }\n        }\n\n        return data;\n      };\n\n      if (Array.isArray(data)) {\n        body = await Promise.all(data.map((e) => formatSingle(e)));\n      } else {\n        body = await formatSingle(data);\n      }\n      if (!isFile) {\n        body = JSON.stringify(body);\n      }\n\n      return await sendRaw(\n        `${url.endsWith(\"/\") ? url : `${url}/`}${\n          uri.startsWith(\"/\") ? uri.substring(1) : uri\n        }`,\n        data\n          ? {\n              method: \"post\",\n              headers,\n              body,\n            }\n          : {}\n      );\n    },\n  };\n};\n\nexport const fetchSendApi = async (\n  _url: string,\n  params: any,\n  parentWindow?: any\n) => {\n  let w: any = typeof window === \"object\" ? window : globalThis;\n\n  const win = parentWindow || w;\n  let url = _url;\n  let frm: Awaited<ReturnType<typeof createFrameCors>>;\n  if (!win.frmapi) {\n    win.frmapi = {};\n\n    win.frmapi[w.serverurl] = await createFrameCors(w.serverurl, win);\n  }\n\n  frm = win.frmapi[w.serverurl];\n\n  if (url.startsWith(\"http\")) {\n    const purl = new URL(url);\n    if (!win.frmapi[purl.host]) {\n      win.frmapi[purl.host] = await createFrameCors(\n        `${purl.protocol}//${purl.host}`\n      );\n    }\n\n    frm = win.frmapi[purl.host];\n    url = url.substring(`${purl.protocol}//${purl.host}`.length);\n  }\n  if (!win.apiHeaders) {\n    win.apiHeaders = {};\n  }\n\n  if (!frm) {\n    await waitUntil(() => {\n      frm = win.frmapi[w.serverurl];\n      return frm;\n    });\n  }\n\n  return await frm.send(url, params, win.apiHeaders);\n};\n", "import { waitUntil } from \"web-utils\";\nimport { createFrameCors } from \"./iframe-cors\";\nimport hash_sum from \"hash-sum\";\n\nexport const dbClient = (name: string, dburl?: string) => {\n  return new Proxy(\n    {},\n    {\n      get(_, table: string) {\n        if (table === \"_tables\") {\n          return () => {\n            return fetchSendDb(\n              name,\n              {\n                name,\n                action: \"definition\",\n                table: \"*\",\n              },\n              dburl\n            );\n          };\n        }\n\n        if (table === \"_definition\") {\n          return (table: string) => {\n            return fetchSendDb(\n              name,\n              {\n                name,\n                action: \"definition\",\n                table,\n              },\n              dburl\n            );\n          };\n        }\n\n        if (table.startsWith(\"$\")) {\n          return (...params: any[]) => {\n            return fetchSendDb(\n              name,\n              {\n                name,\n                action: \"query\",\n                table,\n                params,\n              },\n              dburl\n            );\n          };\n        }\n\n        return new Proxy(\n          {},\n          {\n            get(_, action: string) {\n              return (...params: any[]) => {\n                if (table === \"query\") {\n                  table = action;\n                  action = \"query\";\n                }\n                return fetchSendDb(\n                  name,\n                  {\n                    name,\n                    action,\n                    table,\n                    params,\n                  },\n                  dburl\n                );\n              };\n            },\n          }\n        );\n      },\n    }\n  );\n};\n\nconst cachedQueryResult: Record<string, { timestamp: number; result: any }> =\n  {};\n\nexport const fetchSendDb = async (\n  name: string,\n  params: any,\n  dburl?: string\n) => {\n  const w = typeof window === \"object\" ? window : (globalThis as any);\n  let url = `/_dbs/${name}`;\n  let frm: Awaited<ReturnType<typeof createFrameCors>>;\n\n  if (params.table) {\n    url += `/${params.table}`;\n  }\n\n  const _base = dburl || w.serverurl;\n\n  if (!w.frmapi) {\n    w.frmapi = {};\n  }\n\n  if (!w.frmapi[_base]) {\n    w.frmapi[_base] = await createFrameCors(_base);\n  }\n\n  frm = w.frmapi[_base];\n\n  if (!frm) {\n    await waitUntil(() => {\n      frm = w.frmapi[_base];\n      return frm;\n    });\n  }\n\n  const hsum = hash_sum(params);\n  const cached = cachedQueryResult[hsum];\n\n  if (!cached || (cached && Date.now() - cached.timestamp > 1000)) {\n    cachedQueryResult[hsum] = {\n      timestamp: Date.now(),\n      result: null,\n    };\n\n    const result = await frm.send(url, params, w.apiHeaders);\n    cachedQueryResult[hsum].result = result;\n    return result;\n  }\n\n  return cached.result;\n};\n", "import { fetchSendApi } from \"./iframe-cors\";\n\nexport const apiClient = (\n  api: Record<string, { url: string; args: any[] }>,\n  apiUrl?: string\n) => {\n  return new Proxy(\n    {},\n    {\n      get: (_, actionName: string) => {\n        const createFn = (actionName: string) => {\n          return function (this: { apiUrl: string } | undefined, ...rest: any) {\n            return new Promise<any>(async (resolve, reject) => {\n              try {\n                let _apiURL = apiUrl;\n                if (typeof this?.apiUrl === \"string\") {\n                  _apiURL = this.apiUrl;\n                }\n\n                if (!api || !api[actionName]) {\n                  resolve(null);\n                  console.error(\n                    `API ${actionName.toString()} not found, existing API: ${Object.keys(\n                      api\n                    )}`\n                  );\n                  return;\n                }\n\n                let actionUrl = api[actionName].url;\n                const actionParams = api[actionName].args;\n                if (actionUrl && actionParams) {\n                  if (rest.length > 0 && actionParams.length > 0) {\n                    for (const [idx, p] of Object.entries(rest)) {\n                      const paramName = actionParams[parseInt(idx)];\n                      if (actionParams && actionParams.includes(paramName)) {\n                        if (\n                          !!p &&\n                          typeof p !== \"string\" &&\n                          typeof p !== \"number\"\n                        ) {\n                          continue;\n                        }\n                      }\n                      actionUrl = actionUrl.replace(`:${paramName}?`, p + \"\");\n                      actionUrl = actionUrl.replace(`:${paramName}`, p + \"\");\n                    }\n                  }\n\n                  let basePath = basepath === \"/\" ? \"\" : basepath;\n\n                  const url = `${_apiURL || basePath}${actionUrl}`;\n\n                  const result = await fetchSendApi(url, rest);\n                  resolve(result);\n                } else {\n                  console.error(`API Not Found: ${actionName.toString()}`);\n                }\n              } catch (e) {\n                reject(e);\n              }\n            });\n          };\n        };\n        if (actionName === \"then\") {\n          return new Proxy(\n            {},\n            {\n              get: (_, actionName: string) => {\n                return createFn(actionName);\n              },\n            }\n          );\n        }\n\n        return createFn(actionName);\n      },\n    }\n  );\n};\n", "function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic \u2013 if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction delMany(keys, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        keys.forEach((key) => store.delete(key));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(store, callback) {\n    store.openCursor().onsuccess = function () {\n        if (!this.result)\n            return;\n        callback(this.result);\n        this.result.continue();\n    };\n    return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAllKeys) {\n            return promisifyRequest(store.getAllKeys());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);\n    });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAll) {\n            return promisifyRequest(store.getAll());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);\n    });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        // (although, hopefully we'll get a simpler path some day)\n        if (store.getAll && store.getAllKeys) {\n            return Promise.all([\n                promisifyRequest(store.getAllKeys()),\n                promisifyRequest(store.getAll()),\n            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));\n        }\n        const items = [];\n        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));\n    });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n", "import { createStore, get, set } from \"idb-keyval\";\nimport trim from \"lodash.trim\";\nimport { apiClient, dbClient } from \"web-init\";\nimport { createFrameCors } from \"web-init/src/web/iframe-cors\";\nexport const w = window as unknown as {\n  prasiApi: Record<string, any>;\n  apiHeaders: any;\n  apiClient: typeof apiClient;\n  dbClient: typeof dbClient;\n  serverurl: string;\n  apiurl: string;\n};\n\nexport const createAPI = (url: string) => {\n  if (!w.apiClient) {\n    w.apiClient = apiClient;\n  }\n\n  return w.apiClient(w.prasiApi[url]?.apiEntry, url);\n};\n\nexport const createDB = (url: string) => {\n  if (!w.dbClient) {\n    w.dbClient = dbClient;\n  }\n\n  const dbc: typeof dbClient = w.dbClient;\n  return dbc(\"db\", url);\n};\n\nexport const initApi = async (config: any, mode: \"dev\" | \"prod\" = \"dev\") => {\n  let url = \"\";\n  if (config.prasi) {\n    if (\n      !(\n        location.hostname === \"prasi.app\" ||\n        location.hostname === \"api.prasi.app\"\n      ) // android localhost\n    ) {\n      if (\n        location.hostname === \"localhost\" ||\n        location.hostname === \"127.0.0.1\" ||\n        location.hostname === \"10.0.2.2\"\n      ) {\n        url = `https://${config.prasi.port}.prasi.world`;\n      } else {\n        url = `https://${location.hostname}:${config.prasi.port}`;\n      }\n    } else {\n      url = `https://${config.prasi.port}.prasi.world`;\n    }\n  } else if (config.api_url) {\n    url = config.api_url;\n  }\n  if (!w.prasiApi) {\n    w.prasiApi = {};\n  }\n  if (url) {\n    if (!w.prasiApi[url]) {\n      try {\n        await reloadDBAPI(url, mode);\n      } catch (e) {}\n    }\n  }\n  return url;\n};\n\nconst loadText = async (url: string, v2?: boolean) => {\n  const res = await fetch(url);\n  return await res.text();\n};\n\nexport const reloadDBAPI = async (\n  url: string,\n  mode: \"dev\" | \"prod\" = \"dev\"\n) => {\n  const base = trim(url, \"/\");\n\n  if (!w.prasiApi) {\n    w.prasiApi = {};\n  }\n\n  const cache = createStore(`prasi-api`, \"config\");\n\n  const forceReload = async () => {\n    if (!w.prasiApi[url]) {\n      w.prasiApi[url] = {};\n    }\n    const frm = await createFrameCors(base);\n    const raw = await frm.sendRaw(`/_prasi/_`);\n    let ver = \"\";\n    if (raw && (raw as any).prasi) {\n      ver = (raw as any).prasi;\n    }\n\n    if (ver === \"v2\") {\n      await new Promise<void>((done) => {\n        const d = document;\n        const script = d.body.appendChild(d.createElement(\"script\"));\n        script.onload = () => {\n          done();\n        };\n        script.src = `${base}/_prasi/load.js?url=${url}${\n          mode === \"dev\" ? \"&dev=1\" : \"\"\n        }`;\n      });\n    } else {\n      const apiTypes = await fetch(base + \"/_prasi/api-types\");\n      const apiEntry = await fetch(base + \"/_prasi/api-entry\");\n      w.prasiApi[url] = {\n        apiEntry: (await apiEntry.json()).srv,\n        prismaTypes: {\n          \"prisma.d.ts\": await loadText(`${base}/_prasi/prisma/index.d.ts`),\n          \"runtime/index.d.ts\": await loadText(\n            `${base}/_prasi/prisma/runtime/index.d.ts`\n          ),\n          \"runtime/library.d.ts\": await loadText(\n            `${base}/_prasi/prisma/runtime/library.d.ts`\n          ),\n        },\n        apiTypes: await apiTypes.text(),\n      };\n    }\n\n    await set(url, JSON.stringify(w.prasiApi[url]), cache);\n  };\n\n  try {\n    const found = await get(url, cache);\n    if (found) {\n      w.prasiApi[url] = JSON.parse(found);\n      forceReload();\n    } else {\n      await forceReload();\n    }\n  } catch (e) {\n    console.warn(\"Failed to load API\");\n  }\n};\n"],
  "mappings": "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",
  "names": ["require_react_production_min", "__commonJSMin", "exports", "l", "n", "p", "q", "r", "t", "u", "v", "w", "x", "y", "z", "A", "a", "B", "C", "D", "E", "b", "e", "F", "G", "H", "I", "J", "K", "L", "M", "d", "c", "k", "h", "g", "f", "m", "N", "O", "escape", "P", "Q", "R", "S", "T", "U", "V", "W", "require_react", "__commonJSMin", "exports", "module", "require_react_jsx_runtime_production_min", "__commonJSMin", "exports", "f", "k", "l", "m", "n", "p", "q", "c", "a", "g", "b", "d", "e", "h", "require_jsx_runtime", "__commonJSMin", "exports", "module", "number", "n", "exports", "bool", "b", "bytes", "lengths", "hash", "exists", "instance", "checkFinished", "output", "out", "min", "assert", "U32_MASK64", "_32n", "fromBig", "n", "le", "exports", "split", "lst", "Ah", "Al", "i", "h", "l", "toBig", "shrSH", "s", "shrSL", "rotrSH", "rotrSL", "rotrBH", "rotrBL", "rotr32H", "rotr32L", "rotlSH", "rotlSL", "rotlBH", "rotlBL", "add", "Bh", "Bl", "add3L", "Cl", "add3H", "low", "Ch", "add4L", "Dl", "add4H", "Dh", "add5L", "El", "add5H", "Eh", "u64", "exports", "crypto_1", "u8a", "a", "u8", "arr", "exports", "u32", "createView", "rotr", "word", "shift", "hexes", "v", "i", "bytesToHex", "bytes", "hex", "hexToBytes", "len", "array", "j", "hexByte", "byte", "nextTick", "asyncLoop", "iters", "tick", "cb", "ts", "diff", "utf8ToBytes", "str", "toBytes", "data", "concatBytes", "arrays", "r", "sum", "pad", "Hash", "isPlainObject", "obj", "checkOpts", "defaults", "opts", "wrapConstructor", "hashCons", "hashC", "msg", "tmp", "wrapConstructorWithOpts", "wrapXOFConstructorWithOpts", "randomBytes", "bytesLength", "_assert_js_1", "_u64_js_1", "utils_js_1", "SHA3_PI", "SHA3_ROTL", "_SHA3_IOTA", "_0n", "_1n", "_2n", "_7n", "_256n", "_0x71n", "round", "R", "x", "y", "t", "j", "SHA3_IOTA_H", "SHA3_IOTA_L", "rotlH", "h", "l", "s", "rotlL", "keccakP", "rounds", "B", "idx1", "idx0", "B0", "B1", "Th", "Tl", "curH", "curL", "shift", "PI", "exports", "Keccak", "_Keccak", "blockLen", "suffix", "outputLen", "enableXOF", "data", "state", "len", "pos", "take", "i", "out", "bufferOut", "bytes", "to", "gen", "genShake", "opts", "require_src", "__commonJSMin", "exports", "module", "sha3", "defaultLength", "bigLength", "createEntropy", "length", "random", "entropy", "bufToBigInt", "buf", "bits", "value", "i", "bi", "hash", "input", "alphabet", "x", "randomLetter", "createFingerprint", "globalObj", "globals", "sourceString", "createCounter", "count", "initialCountMax", "init", "counter", "fingerprint", "firstLetter", "time", "salt", "hashInput", "createId", "isCuid", "id", "minLength", "maxLength", "regex", "require_cuid2", "__commonJSMin", "exports", "module", "createId", "init", "getConstants", "isCuid", "require_hash_sum", "__commonJSMin", "exports", "module", "pad", "hash", "len", "fold", "text", "i", "chr", "foldObject", "o", "seen", "foldKey", "key", "foldValue", "input", "value", "toString", "objHash", "err", "sum", "require_lodash", "__commonJSMin", "exports", "module", "INFINITY", "symbolTag", "reTrim", "rsAstralRange", "rsComboMarksRange", "rsComboSymbolsRange", "rsVarRange", "rsAstral", "rsCombo", "rsFitz", "rsModifier", "rsNonAstral", "rsRegional", "rsSurrPair", "rsZWJ", "reOptMod", "rsOptVar", "rsOptJoin", "rsSeq", "rsSymbol", "reUnicode", "reHasUnicode", "freeGlobal", "freeSelf", "root", "asciiToArray", "string", "baseFindIndex", "array", "predicate", "fromIndex", "fromRight", "length", "index", "baseIndexOf", "value", "baseIsNaN", "charsStartIndex", "strSymbols", "chrSymbols", "charsEndIndex", "hasUnicode", "stringToArray", "unicodeToArray", "objectProto", "objectToString", "Symbol", "symbolProto", "symbolToString", "baseSlice", "start", "end", "result", "baseToString", "isSymbol", "castSlice", "isObjectLike", "toString", "trim", "chars", "guard", "import_cuid2", "import_react", "w", "GlobalContext", "useGlobal", "defaultValue", "effectOrID", "id", "w", "_id", "ctx", "GlobalContext", "global", "render", "deepClone", "res", "e", "reset", "object", "copy", "item", "newObject", "key", "import_react", "useLocal", "data", "effect", "deps", "_render", "local", "k", "v", "val", "resolved", "dep", "waitUntil", "condition", "timeout", "resolve", "tout", "count", "c", "import_react", "_React", "e", "t", "r", "l", "a", "n", "o", "c", "s", "i", "p", "u", "d", "f", "b", "u", "h", "NODE_TYPES", "createRouter", "options", "ctx", "createRadixNode", "normalizeTrailingSlash", "p", "path", "insert", "lookup", "data", "remove", "staticPathNode", "sections", "params", "paramsFound", "wildcardNode", "node", "wildCardParam", "i", "section", "nextNode", "isStaticRoute", "_unnamedPlaceholderCtr", "childNode", "type", "getNodeType", "success", "lastSection", "parentNode", "str", "import_react", "import_react", "import_jsx_runtime", "import_jsx_runtime", "import_react", "import_jsx_runtime", "ServerStyle", "resolve", "retry", "lastExtract", "tryExtract", "cssSource", "r", "import_cuid2", "cuid", "createFrameCors", "url", "win", "w", "document", "id", "iframe", "_url", "resolve", "reject", "onInit", "e", "wm", "sendRaw", "input", "init", "waitUntil", "err", "data", "_headers", "uri", "headers", "body", "isFile", "formatSingle", "ab", "reader", "fetchSendApi", "params", "parentWindow", "frm", "purl", "import_hash_sum", "dbClient", "name", "dburl", "_", "table", "fetchSendDb", "params", "action", "cachedQueryResult", "w", "url", "frm", "_base", "createFrameCors", "waitUntil", "hsum", "hash_sum", "cached", "result", "apiClient", "api", "apiUrl", "_", "actionName", "createFn", "rest", "resolve", "reject", "_apiURL", "actionUrl", "actionParams", "idx", "p", "paramName", "basePath", "url", "result", "fetchSendApi", "e", "promisifyRequest", "request", "resolve", "reject", "createStore", "dbName", "storeName", "dbp", "txMode", "callback", "db", "defaultGetStoreFunc", "defaultGetStore", "get", "key", "customStore", "store", "set", "value", "import_lodash", "w", "createAPI", "url", "apiClient", "createDB", "dbClient", "dbc", "initApi", "config", "mode", "reloadDBAPI", "loadText", "v2", "base", "trim", "cache", "createStore", "forceReload", "raw", "createFrameCors", "ver", "done", "d", "script", "apiTypes", "apiEntry", "set", "found", "get"]
}
